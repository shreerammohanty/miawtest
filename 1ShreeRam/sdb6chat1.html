<apex:page showHeader="false" applyHtmlTag="false" applyBodyTag="false" lightningStylesheets="true">
  <html xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
   <head>
<title>InApp</title>
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
</head>
<body>
 
<h1> In APP Web Client for TestCaptcha miaw2 sdb6 Deployment</h1>
<p><a id="editThisPageLink" target="_blank" style="color:blue">Edit this pages</a></p>
<script src="https://www.google.com/recaptcha/api.js?onload=onRecaptchaLoad&render=explicit" async defer></script>
<script>
  document.getElementById('editThisPageLink').href =
    "https://github.com/shreerammohanty/miawtest/edit/master/1ShreeRam/LocalSdb6Connect.html";

  let recaptchaWidgetId = null;

  function onRecaptchaLoad() {
    recaptchaWidgetId = grecaptcha.render('recaptcha-container', {
      sitekey: '6Lfy2HMrAAAAAIVf2zhrlxQ-6ht07tNdfNUrD3p9',
      size: 'invisible',
      callback: onVerify,
      'error-callback': onError,
      'expired-callback': onExpired
    });

    // Execute immediately, no button required
    grecaptcha.execute(recaptchaWidgetId);
  }

  function onVerify(token) {
    console.log('reCAPTCHA token:', token);
    // TODO: POST the token to your backend for verification
    // fetch('/verify', { method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify({ token }) });
  }

  function onError() {
    console.error('reCAPTCHA error');
  }

  function onExpired() {
    console.warn('reCAPTCHA expired, re-executingâ€¦');
    grecaptcha.execute(recaptchaWidgetId);
  }
</script>
<script>document.getElementById('editThisPageLink').href = "https://github.com/shreerammohanty/miawtest/edit/master/1ShreeRam/sdb6chat1.html";</script>


    
      <script type='text/javascript'>
    function initEmbeddedMessaging() {
        try {
            embeddedservice_bootstrap.settings.language = 'en_US'; // For example, enter 'en' or 'en-US'
            // embeddedservice_bootstrap.settings.captchaEnabled = true;
            // embeddedservice_bootstrap.settings.siteKey = '6LefS7oqAAAAAGE-TxZyCwhz_mux0c52KILltWMN';
            // embeddedservice_bootstrap.settings.noSsePatch = true;

            embeddedservice_bootstrap.init(
                '00DSG00000FLDWH',
                'miaw_client',
                'https://liveagent2.test1.my.pc-rnd.site.com/ESWmiawclient1726480967578',
                {
                    scrt2URL: 'https://liveagent2.test1.my.pc-rnd.salesforce-scrt.com'
                }
            );
        } catch (err) {
            console.error('Error loading Embedded Messaging: ', err);
        }
    };
</script>
<script type='text/javascript' src='https://liveagent2.test1.my.pc-rnd.site.com/ESWmiawclient1726480967578/assets/js/bootstrap.min.js' onload='initEmbeddedMessaging()'></script>

    </body>
  </html>
</apex:page>
